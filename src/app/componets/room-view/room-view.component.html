<div class="background">
  <svg (loadstart)="setPositions()" xmlns="http://www.w3.org/2000/svg" [attr.viewBox]="screen">
    <g *ngFor="let desk of desksArray"  let i = index  (mouseleave)="endDrag($event)" (mouseup)="endDrag($event)" (mousemove)="drag($event,desk.id)"
      (mousedown)="startDrag($event,desk.id)" (load)="setPositions()">
      <!--roomViewService.getDesk()-->
      <g *ngIf="rotate == 0">
        <rect id="field" [attr.x]="desk.x" [attr.y]="desk.y"  width="5" height="5" fill="#00cc44"  style="opacity: 0.7;stroke:black;stroke-width:0.1" />
        <circle [attr.cy]="desk.y +1.3" [attr.cx]="desk.x +2.5" r="1" fill="#000000" />
      <circle [attr.cy]="desk.y +1" [attr.cx]="desk.x +2.5" r="0.5" fill="#ffd9b3" />
      <rect  [attr.x]="desk.x +1" rx="0.5" ry="0.5" [attr.y]="desk.y +1" width="3" height="1.5"
        fill="#555555" />
        <rect [attr.id]="desk.id" class="desk" [attr.x]="desk.x" [attr.y]="desk.y" width="5" height="5" fill="#a6a6a6" style="opacity: 0.0" />
      </g>
      <g *ngIf="rotate == 90">
          <rect  [attr.x]="desk.x" [attr.y]="desk.y"  width="5" height="5" fill="#00cc44"  style="opacity: 0.7;stroke:black;stroke-width:0.1" />
          <circle [attr.cy]="desk.y -1.3" [attr.cx]="desk.x -2.5" r="1" fill="#000000" />
        <circle [attr.cy]="desk.y -1" [attr.cx]="desk.x -2.5" r="0.5" fill="#ffd9b3" />
        <rect  [attr.x]="desk.x +1" rx="0.5" ry="0.5" [attr.y]="desk.y +1" width="3" height="1.5"
          fill="#555555" />
          <rect [attr.id]="desk.id" class="desk" [attr.x]="desk.x" [attr.y]="desk.y" width="5" height="5" fill="#a6a6a6" style="opacity: 0.0" />
        </g>
        <g *ngIf="rotate == 180">
            <rect  [attr.x]="desk.x" [attr.y]="desk.y"  width="5" height="5" fill="#00cc44"  style="opacity: 0.7;stroke:black;stroke-width:0.1" />
            <circle [attr.cy]="desk.y +1.3" [attr.cx]="desk.x +2.5" r="1" fill="#000000" />
          <circle [attr.cy]="desk.y +1" [attr.cx]="desk.x +2.5" r="0.5" fill="#ffd9b3" />
          <rect  [attr.x]="desk.x +1" rx="0.5" ry="0.5" [attr.y]="desk.y +1" width="3" height="1.5"
            fill="#555555" />
            <rect [attr.id]="desk.id" class="desk" [attr.x]="desk.x" [attr.y]="desk.y" width="5" height="5" fill="#a6a6a6" style="opacity: 0.0" />
          </g>
          <g *ngIf="rotate == 270">
              <rect  [attr.x]="desk.x" [attr.y]="desk.y"  width="5" height="5" fill="#00cc44"  style="opacity: 0.7;stroke:black;stroke-width:0.1" />
              <circle [attr.cy]="desk.y -1.3" [attr.cx]="desk.x -2.5" r="1" fill="#000000" />
            <circle [attr.cy]="desk.y -1" [attr.cx]="desk.x -2.5" r="0.5" fill="#ffd9b3" />
            <rect  [attr.x]="desk.x +1" rx="0.5" ry="0.5" [attr.y]="desk.y +1" width="3" height="1.5"
              fill="#555555" />
              <rect [attr.id]="desk.id" class="desk" [attr.x]="desk.x" [attr.y]="desk.y" width="5" height="5" fill="#a6a6a6" style="opacity: 0.0" />
            </g>
    </g>
  </svg>
  <label class="border border-dark w-100">
    <button class="btn btn-primary w-25" (click)="saveDesks()">Save</button></label>
  <label class="border border-dark w-100">
    <button class="btn btn-primary w-25" (click)="addDesks()">New</button></label>

</div>